color:
  - id: filter_l
    hex: "F8FAFC"
  - id: filter_r
    hex: "F87171"
  - id: filter_g
    hex: "4ADE80"
  - id: filter_b
    hex: "60A5FA"
  - id: filter_sii
    hex: "FB7185"
  - id: filter_ha
    hex: "FACC15"
  - id: filter_oiii
    hex: "22D3EE"

font:
  - file: { type: gfonts, family: Roboto, weight: 400 }
    id: font_roboto_28
    size: 28
    bpp: 8
    glyphs: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.-°%/:_ #()'\"²"
  - file: { type: gfonts, family: Roboto Condensed, weight: 700 }
    id: font_header_40
    size: 40
    bpp: 8
    glyphs: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.- '\""
  - file: { type: gfonts, family: Roboto, weight: 700 }
    id: font_roboto_hero
    size: 90
    bpp: 8
    glyphs: "0123456789.-°% finCWS'\""
  - file: { type: gfonts, family: Roboto, weight: 700 }
    id: font_target_large
    size: 54
    bpp: 8
    glyphs: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.- '"

lvgl:
  buffer_size: 100%
  byte_order: little_endian
  
  page_wrap: true
  
  # Optimize display updates
  update_interval: 100ms
  
  style_definitions:
    - id: style_page_bg
      bg_color: 0x050505
      bg_opa: COVER
    - id: style_card_bg
      bg_color: 0x111111
      bg_opa: COVER
      radius: 16
      border_width: 1
      border_color: 0x333333
      pad_all: 8
    - id: style_header
      text_color: 0x888888
      text_font: font_header_40
      text_align: LEFT
    - id: style_value_hero
      text_font: font_roboto_hero
      text_color: 0xFFFFFF
      text_align: CENTER
      pad_top: 10
      pad_bottom: 10
    - id: style_label_sub
      text_font: font_roboto_28
      text_color: 0xCCCCCC
      text_align: CENTER
    - id: style_unit_small
      text_font: font_roboto_28
      text_color: 0x888888
      text_align: CENTER
    - id: style_bar_bg
      bg_color: 0x222222
      radius: 6
      bg_opa: COVER
    - id: style_bar_red
      bg_color: 0xEF4444
      radius: 6
    - id: style_bar_blue
      bg_color: 0x3B82F6
      radius: 6
    - id: style_bar_green
      bg_color: 0x10B981
      radius: 6
    - id: style_bar_amber
      bg_color: 0xF59E0B
      radius: 6
    - id: style_filter_active
      text_opa: 100%
      text_font: font_header_40
    - id: style_filter_muted
      text_opa: 45%
      text_font: font_header_40
      text_color: filter_l
      width: 80
      height: 60
      pad_all: 8
      text_align: CENTER
    - id: style_filter_highlight_box
      bg_opa: 20%
      bg_color: 0xFFFFFF
      border_width: 2
      border_color: 0xFFFFFF
      border_opa: 60%
      shadow_width: 12
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: 0xFFFFFF
      shadow_opa: 50%
      shadow_spread: 3
      radius: 8
      width: 85
      height: 60
    - id: style_filter_active_l
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_l
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_l
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_filter_active_r
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_r
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_r
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_filter_active_g
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_g
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_g
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_filter_active_b
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_b
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_b
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_filter_active_sii
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_sii
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_sii
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_filter_active_ha
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_ha
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_ha
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_filter_active_oiii
      text_opa: 100%
      text_font: font_header_40
      bg_opa: 20%
      bg_color: filter_oiii
      border_width: 0
      shadow_width: 8
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_color: filter_oiii
      shadow_opa: 70%
      shadow_spread: 2
      pad_all: 8
      radius: 8
      width: 80
      height: 60
      text_align: CENTER
    - id: style_clr_l
      text_color: filter_l
    - id: style_clr_r
      text_color: filter_r
    - id: style_clr_g
      text_color: filter_g
    - id: style_clr_b
      text_color: filter_b
    - id: style_clr_sii
      text_color: filter_sii
    - id: style_clr_ha
      text_color: filter_ha
    - id: style_clr_oiii
      text_color: filter_oiii

  pages:
    - id: main_page
      styles: style_page_bg
      scrollbar_mode: "OFF"
      widgets:
        - obj:
            id: main_container
            width: 720
            height: 720
            bg_color: 0x000000
            bg_opa: COVER
            border_width: 0
            scrollbar_mode: "OFF"
            layout:
              type: flex
              flex_flow: ROW_WRAP
              flex_align_main: SPACE_EVENLY
              flex_align_cross: SPACE_EVENLY
            pad_all: 10
            widgets:
              # CARD 1: THERMAL
              - obj:
                  id: card_thermal
                  width: 345
                  height: 345
                  styles: style_card_bg
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "THERMAL", styles: style_header }
                    - obj:
                        width: 100%
                        height: 140
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER, flex_align_cross: CENTER }
                        widgets:
                          - label: { id: lbl_cpu_temp_val, text: "--", styles: style_value_hero, width: 100% }
                          - label: { text: "CPU TEMP", styles: style_unit_small }
                    - obj:
                        width: 100%
                        height: 20
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                        widgets:
                          - bar:
                              id: bar_cpu_temp
                              width: 100%
                              height: 12
                              min_value: 0
                              max_value: 100
                              mode: NORMAL
                              styles: style_bar_bg
                              indicator: { styles: style_bar_red }
                    - label: { id: lbl_ssd_temp_val, text: "SSD: --°C", styles: style_label_sub, width: 100%, pad_top: 10 }

              # CARD 2: SKY INFO
              - obj:
                  id: card_system
                  width: 345
                  height: 345
                  styles: style_card_bg
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - obj:
                        width: 100%
                        height: 210
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                        widgets:
                          - label: { text: "SQM", styles: style_header }
                          - obj:
                              width: 100%
                              height: 140
                              bg_opa: TRANSP
                              border_width: 0
                              scrollbar_mode: "OFF"
                              layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER, flex_align_cross: CENTER }
                              widgets:
                                - label: { id: lbl_sqm_val, text: "--", styles: style_value_hero, width: 100% }
                                - label: { text: "mag/arcsec²", styles: style_unit_small, pad_top: -10 }
                    - obj: { width: 100%, height: 1, bg_color: 0x333333, bg_opa: COVER, border_width: 0 }
                    - obj:
                        width: 100%
                        height: 110
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_EVENLY }
                        widgets:
                          - label: { id: lbl_cloud_status, text: "--", text_font: font_header_40, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }
                          - label: { id: lbl_star_count, text: "Stars: --", styles: style_unit_small, width: 100% }

              # CARD 3: AMBIENT
              - obj:
                  id: card_ambient
                  width: 345
                  height: 345
                  styles: style_card_bg
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - obj:
                        width: 100%
                        height: 50
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: ROW, flex_align_main: SPACE_BETWEEN, flex_align_cross: CENTER }
                        widgets:
                          - label: { text: "AMBIENT", styles: style_header }
                          - obj:
                              width: 70
                              height: 50
                              bg_opa: TRANSP
                              border_width: 0
                              scrollbar_mode: "OFF"
                              layout: { type: flex, flex_flow: ROW, flex_align_main: END, flex_align_cross: CENTER, pad_column: 10 }
                              widgets:
                                - obj: { id: ind_heater_dot, width: 24, height: 24, radius: 12, bg_color: 0x444444, scrollbar_mode: "OFF" }
                                - obj: { id: ind_fan_dot, width: 24, height: 24, radius: 12, bg_color: 0x444444, scrollbar_mode: "OFF" }
                    - obj:
                        width: 100%
                        height: 140
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER, flex_align_cross: CENTER }
                        widgets:
                          - label: { id: lbl_enclosure_temp_val, text: "--", styles: style_value_hero, width: 100% }
                          - label: { text: "TEMP °C", styles: style_unit_small }
                    - obj:
                        width: 100%
                        height: 20
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                        widgets:
                          - bar:
                              id: bar_enclosure
                              width: 100%
                              height: 12
                              min_value: 0
                              max_value: 100
                              mode: NORMAL
                              styles: style_bar_bg
                              indicator: { styles: style_bar_green }
                    - obj:
                        width: 100%
                        height: 60
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_EVENLY }
                        widgets:
                          - label: { id: lbl_humidity_val, text: "H: --%", styles: style_label_sub, width: 100% }
                          - label: { id: lbl_dew_val, text: "D: --°C", styles: style_label_sub, width: 100% }

              # CARD 4: POWER
              - obj:
                  id: card_power
                  width: 345
                  height: 345
                  styles: style_card_bg
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "POWER", styles: style_header }
                    - obj:
                        width: 100%
                        height: 140
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER, flex_align_cross: CENTER }
                        widgets:
                          - label: { id: lbl_power_val, text: "--", styles: style_value_hero, width: 100% }
                          - label: { text: "WATTS", styles: style_unit_small }
                    - obj:
                        width: 100%
                        height: 20
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                        widgets:
                          - bar:
                              id: bar_power
                              width: 100%
                              height: 12
                              min_value: 0
                              max_value: 100
                              mode: NORMAL
                              styles: style_bar_bg
                              indicator: { styles: style_bar_amber }
                    - obj:
                        width: 100%
                        height: 50
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: ROW, flex_align_main: SPACE_BETWEEN }
                        widgets:
                          - label: { id: lbl_voltage_val, text: "-- V", styles: style_label_sub }
                          - label: { id: lbl_current_val, text: "-- A", styles: style_label_sub }

    - id: nina2_page
      styles: style_page_bg
      scrollbar_mode: "OFF"
      widgets:
        - obj:
            id: nina2_container
            width: 720
            height: 720
            bg_color: 0x000000
            bg_opa: COVER
            border_width: 0
            scrollbar_mode: "OFF"
            pad_all: 15
            layout:
              type: grid
              grid_columns: [FR(1), FR(1), FR(1)]
              grid_rows: [120, 230, 140, 100, 100]
              pad_row: 0
              pad_column: 0
            widgets:
              # Row 1: TARGET - spans all 3 columns
              - obj:
                  id: nina2_cell_target
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 3
                  grid_cell_row_pos: 0
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  widgets:
                    - label: { text: "NINA 2", styles: style_unit_small, align: BOTTOM_LEFT }
                    - label: { id: lbl_nina2_target, text: "--", text_font: font_target_large, text_color: 0xFFFFFF, align: RIGHT_MID }

              # Row 2: RMS - column 0
              - obj:
                  id: nina2_cell_rms
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 1
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "RMS (Arc-sec)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_rms, text: "--", text_font: font_roboto_hero, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }
                    - label: { id: lbl_nina2_ra_rms, text: "RA: --", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_dec_rms, text: "DEC: --", styles: style_unit_small, width: 100% }

              # Row 2: HFR - column 1
              - obj:
                  id: nina2_cell_hfr
                  grid_cell_column_pos: 1
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 1
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "HFR (Px)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_hfr, text: "--", text_font: font_roboto_hero, text_color: 0xFF6B9D, text_align: CENTER, width: 100% }

              # Row 2: Power Info - column 2
              - obj:
                  id: nina2_cell_power
                  grid_cell_column_pos: 2
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 1
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "Heater", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_heater, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }
                    - label: { text: "Current", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_current, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }
                    - label: { text: "Power", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_power, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }

              # Row 3: EXP # - column 0
              - obj:
                  id: nina2_cell_exp_num
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 2
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "EXP #", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_exp_num, text: "--", text_font: font_header_40, text_color: 0x10B981, text_align: CENTER, width: 100% }

              # Row 3: EXP TIME - column 1
              - obj:
                  id: nina2_cell_exp_time
                  grid_cell_column_pos: 1
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 2
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "EXP (s)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_exp_time, text: "--", text_font: font_header_40, text_color: 0xF59E0B, text_align: CENTER, width: 100% }

              # Row 3: SAT PIXELS - column 2
              - obj:
                  id: nina2_cell_sat_px
                  grid_cell_column_pos: 2
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 2
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "SAT. PIXELS", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_sat_px, text: "--", text_font: font_header_40, text_color: 0xCCCCCC, text_align: CENTER, width: 100% }

              # Row 4: FILTER - spans all 3 columns
              - obj:
                  id: nina2_cell_filter
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 3
                  grid_cell_row_pos: 3
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  widgets:
                    - obj:
                        id: nina2_filter_highlight
                        x: -100
                        y: 10
                        hidden: true
                        styles: style_filter_highlight_box
                    - obj:
                        width: 100%
                        height: 100%
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: ROW, flex_align_main: SPACE_EVENLY, flex_align_cross: CENTER }
                        widgets:
                          - label: { id: lbl_nina2_filter_l, text: "L", styles: [style_filter_muted, style_clr_l] }
                          - label: { id: lbl_nina2_filter_r, text: "R", styles: [style_filter_muted, style_clr_r] }
                          - label: { id: lbl_nina2_filter_g, text: "G", styles: [style_filter_muted, style_clr_g] }
                          - label: { id: lbl_nina2_filter_b, text: "B", styles: [style_filter_muted, style_clr_b] }
                          - label: { id: lbl_nina2_filter_sii, text: "Sii", styles: [style_filter_muted, style_clr_sii] }
                          - label: { id: lbl_nina2_filter_ha, text: "Ha", styles: [style_filter_muted, style_clr_ha] }
                          - label: { id: lbl_nina2_filter_oiii, text: "Oiii", styles: [style_filter_muted, style_clr_oiii] }

              # Row 5: CAM TEMP - column 0
              - obj:
                  id: nina2_cell_cam_temp
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 4
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "CAM (°C)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_cam_temp, text: "--", text_font: font_roboto_28, text_color: 0x3B82F6, text_align: CENTER, width: 100% }

              # Row 5: STARS - column 1
              - obj:
                  id: nina2_cell_stars
                  grid_cell_column_pos: 1
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 4
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "STARS", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_stars, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }

              # Row 5: CLOUD DETECTOR - column 2
              - obj:
                  id: nina2_cell_cloud_detector
                  grid_cell_column_pos: 2
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 4
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "SKY", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina2_cloud_detector, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }

    - id: nina3_page
      styles: style_page_bg
      scrollbar_mode: "OFF"
      widgets:
        - obj:
            id: nina3_container
            width: 720
            height: 720
            bg_color: 0x000000
            bg_opa: COVER
            border_width: 0
            scrollbar_mode: "OFF"
            pad_all: 15
            layout:
              type: grid
              grid_columns: [FR(1), FR(1), FR(1)]
              grid_rows: [120, 230, 140, 100, 100]
              pad_row: 0
              pad_column: 0
            widgets:
              # Row 1: TARGET - spans all 3 columns
              - obj:
                  id: nina3_cell_target
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 3
                  grid_cell_row_pos: 0
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  widgets:
                    - label: { text: "NINA 3", styles: style_unit_small, align: BOTTOM_LEFT }
                    - label: { id: lbl_nina3_target, text: "--", text_font: font_target_large, text_color: 0xFFFFFF, align: RIGHT_MID }

              # Row 2: RMS - column 0
              - obj:
                  id: nina3_cell_rms
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 1
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "RMS (Arc-sec)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_rms, text: "--", text_font: font_roboto_hero, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }
                    - label: { id: lbl_nina3_ra_rms, text: "RA: --", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_dec_rms, text: "DEC: --", styles: style_unit_small, width: 100% }

              # Row 2: HFR - column 1
              - obj:
                  id: nina3_cell_hfr
                  grid_cell_column_pos: 1
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 1
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: SPACE_BETWEEN }
                  widgets:
                    - label: { text: "HFR (Px)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_hfr, text: "--", text_font: font_roboto_hero, text_color: 0xFF6B9D, text_align: CENTER, width: 100% }

              # Row 2: Empty - column 2
              - obj:
                  id: nina3_cell_empty
                  grid_cell_column_pos: 2
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 1
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"

              # Row 3: EXP # - column 0
              - obj:
                  id: nina3_cell_exp_num
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 2
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "EXP #", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_exp_num, text: "--", text_font: font_header_40, text_color: 0x10B981, text_align: CENTER, width: 100% }

              # Row 3: EXP TIME - column 1
              - obj:
                  id: nina3_cell_exp_time
                  grid_cell_column_pos: 1
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 2
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "EXP (s)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_exp_time, text: "--", text_font: font_header_40, text_color: 0xF59E0B, text_align: CENTER, width: 100% }

              # Row 3: SAT PIXELS - column 2
              - obj:
                  id: nina3_cell_sat_px
                  grid_cell_column_pos: 2
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 2
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "SAT. PIXELS", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_sat_px, text: "--", text_font: font_header_40, text_color: 0xCCCCCC, text_align: CENTER, width: 100% }

              # Row 4: FILTER - spans all 3 columns
              - obj:
                  id: nina3_cell_filter
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 3
                  grid_cell_row_pos: 3
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  widgets:
                    - obj:
                        id: nina3_filter_highlight
                        x: -100
                        y: 10
                        hidden: true
                        styles: style_filter_highlight_box
                    - obj:
                        width: 100%
                        height: 100%
                        bg_opa: TRANSP
                        border_width: 0
                        scrollbar_mode: "OFF"
                        layout: { type: flex, flex_flow: ROW, flex_align_main: SPACE_EVENLY, flex_align_cross: CENTER }
                        widgets:
                          - label: { id: lbl_nina3_filter_l, text: "L", styles: [style_filter_muted, style_clr_l] }
                          - label: { id: lbl_nina3_filter_r, text: "R", styles: [style_filter_muted, style_clr_r] }
                          - label: { id: lbl_nina3_filter_g, text: "G", styles: [style_filter_muted, style_clr_g] }
                          - label: { id: lbl_nina3_filter_b, text: "B", styles: [style_filter_muted, style_clr_b] }
                          - label: { id: lbl_nina3_filter_sii, text: "Sii", styles: [style_filter_muted, style_clr_sii] }
                          - label: { id: lbl_nina3_filter_ha, text: "Ha", styles: [style_filter_muted, style_clr_ha] }
                          - label: { id: lbl_nina3_filter_oiii, text: "Oiii", styles: [style_filter_muted, style_clr_oiii] }

              # Row 5: CAM TEMP - column 0
              - obj:
                  id: nina3_cell_cam_temp
                  grid_cell_column_pos: 0
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 4
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "CAM (°C)", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_cam_temp, text: "--", text_font: font_roboto_28, text_color: 0x3B82F6, text_align: CENTER, width: 100% }

              # Row 5: STARS - column 1
              - obj:
                  id: nina3_cell_stars
                  grid_cell_column_pos: 1
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 4
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "STARS", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_stars, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }

              # Row 5: CLOUD DETECTOR - column 2
              - obj:
                  id: nina3_cell_cloud_detector
                  grid_cell_column_pos: 2
                  grid_cell_column_span: 1
                  grid_cell_row_pos: 4
                  grid_cell_row_span: 1
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  bg_opa: TRANSP
                  border_width: 1
                  border_color: 0x222222
                  pad_all: 8
                  scrollbar_mode: "OFF"
                  layout: { type: flex, flex_flow: COLUMN, flex_align_main: CENTER }
                  widgets:
                    - label: { text: "SKY", styles: style_unit_small, width: 100% }
                    - label: { id: lbl_nina3_cloud_detector, text: "--", text_font: font_roboto_28, text_color: 0xFFFFFF, text_align: CENTER, width: 100% }